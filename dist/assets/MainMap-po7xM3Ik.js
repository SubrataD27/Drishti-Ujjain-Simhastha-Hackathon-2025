const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/mapbox-gl-DiSQua-D.js","assets/index-nGeABNeV.js","assets/index-DGrNeubg.css"])))=>i.map(i=>d[i]);
import{P as W,t as l,_ as $,$ as K,a0 as Y,F as f,T as A,H as T,a1 as P,V as Q,a2 as J}from"./index-nGeABNeV.js";/**
 * @license lucide-react v0.411.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=W("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.411.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=W("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]),te=l.createContext(null);function ne(e,t){const n=Array.isArray(e)?e[0]:e?e.x:0,o=Array.isArray(e)?e[1]:e?e.y:0,r=Array.isArray(t)?t[0]:t?t.x:0,a=Array.isArray(t)?t[1]:t?t.y:0;return n===r&&o===a}function v(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!v(e[n],t[n]))return!1;return!0}else if(Array.isArray(t))return!1;if(typeof e=="object"&&typeof t=="object"){const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(const r of n)if(!t.hasOwnProperty(r)||!v(e[r],t[r]))return!1;return!0}return!1}function oe(e){const t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}function O(e,t){if(!e.getProjection)return;const n=e.getProjection(),o=t.getProjection();v(n,o)||t.setProjection(n)}function F(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function I(e,t){const n=t.viewState||t;let o=!1;if("zoom"in n){const r=e.zoom;e.zoom=n.zoom,o=o||r!==e.zoom}if("bearing"in n){const r=e.bearing;e.bearing=n.bearing,o=o||r!==e.bearing}if("pitch"in n){const r=e.pitch;e.pitch=n.pitch,o=o||r!==e.pitch}if(n.padding&&!e.isPaddingEqual(n.padding)&&(o=!0,e.padding=n.padding),"longitude"in n&&"latitude"in n){const r=e.center;e.center=new r.constructor(n.longitude,n.latitude),o=o||r!==e.center}return o}const re=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function U(e){if(!e)return null;if(typeof e=="string"||("toJS"in e&&(e=e.toJS()),!e.layers))return e;const t={};for(const o of e.layers)t[o.id]=o;const n=e.layers.map(o=>{let r=null;"interactive"in o&&(r=Object.assign({},o),delete r.interactive);const a=t[o.ref];if(a){r=r||Object.assign({},o),delete r.ref;for(const i of re)i in a&&(r[i]=a[i])}return r||o});return{...e,layers:n}}var D={};const H={version:8,sources:{},layers:[]},Z={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},R={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},B={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},ae=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],ie=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class C{constructor(t,n,o){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=r=>{const a=this.props[B[r.type]];a?a(r):r.type==="error"&&console.error(r.error)},this._onPointerEvent=r=>{(r.type==="mousemove"||r.type==="mouseout")&&this._updateHover(r);const a=this.props[Z[r.type]];a&&(this.props.interactiveLayerIds&&r.type!=="mouseover"&&r.type!=="mouseout"&&(r.features=this._hoveredFeatures||this._queryRenderedFeatures(r.point)),a(r),delete r.features)},this._onCameraEvent=r=>{if(!this._internalUpdate){const a=this.props[R[r.type]];a&&a(r)}r.type in this._deferredEvents&&(this._deferredEvents[r.type]=!1)},this._MapClass=t,this.props=n,this._initialize(o)}get map(){return this._map}get transform(){return this._renderTransform}setProps(t){const n=this.props;this.props=t;const o=this._updateSettings(t,n);o&&this._createShadowTransform(this._map);const r=this._updateSize(t),a=this._updateViewState(t,!0);this._updateStyle(t,n),this._updateStyleComponents(t,n),this._updateHandlers(t,n),(o||r||a&&!this._map.isMoving())&&this.redraw()}static reuse(t,n){const o=C.savedMaps.pop();if(!o)return null;const r=o.map,a=r.getContainer();for(n.className=a.className;a.childNodes.length>0;)n.appendChild(a.childNodes[0]);r._container=n;const i=r._resizeObserver;i&&(i.disconnect(),i.observe(n)),o.setProps({...t,styleDiffing:!1}),r.resize();const{initialViewState:u}=t;return u&&(u.bounds?r.fitBounds(u.bounds,{...u.fitBoundsOptions,duration:0}):o._updateViewState(u,!1)),r.isStyleLoaded()?r.fire("load"):r.once("styledata",()=>r.fire("load")),r._update(),o}_initialize(t){const{props:n}=this,{mapStyle:o=H}=n,r={...n,...n.initialViewState,accessToken:n.mapboxAccessToken||se()||null,container:t,style:U(o)},a=r.initialViewState||r.viewState||r;if(Object.assign(r,{center:[a.longitude||0,a.latitude||0],zoom:a.zoom||0,pitch:a.pitch||0,bearing:a.bearing||0}),n.gl){const d=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=d,n.gl)}const i=new this._MapClass(r);a.padding&&i.setPadding(a.padding),n.cursor&&(i.getCanvas().style.cursor=n.cursor),this._createShadowTransform(i);const u=i._render;i._render=d=>{this._inRender=!0,u.call(i,d),this._inRender=!1};const s=i._renderTaskQueue.run;i._renderTaskQueue.run=d=>{s.call(i._renderTaskQueue,d),this._onBeforeRepaint()},i.on("render",()=>this._onAfterRepaint());const c=i.fire;i.fire=this._fireEvent.bind(this,c),i.on("resize",()=>{this._renderTransform.resize(i.transform.width,i.transform.height)}),i.on("styledata",()=>{this._updateStyleComponents(this.props,{}),O(i.transform,this._renderTransform)}),i.on("sourcedata",()=>this._updateStyleComponents(this.props,{}));for(const d in Z)i.on(d,this._onPointerEvent);for(const d in R)i.on(d,this._onCameraEvent);for(const d in B)i.on(d,this._onEvent);this._map=i}recycle(){const n=this.map.getContainer().querySelector("[mapboxgl-children]");n==null||n.remove(),C.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const t=this._map;!this._inRender&&t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}_createShadowTransform(t){const n=oe(t.transform);t.painter.transform=n,this._renderTransform=n}_updateSize(t){const{viewState:n}=t;if(n){const o=this._map;if(n.width!==o.transform.width||n.height!==o.transform.height)return o.resize(),!0}return!1}_updateViewState(t,n){if(this._internalUpdate)return!1;const o=this._map,r=this._renderTransform,{zoom:a,pitch:i,bearing:u}=r,s=o.isMoving();s&&(r.cameraElevationReference="sea");const c=I(r,{...F(o.transform),...t});if(s&&(r.cameraElevationReference="ground"),c&&n){const d=this._deferredEvents;d.move=!0,d.zoom||(d.zoom=a!==r.zoom),d.rotate||(d.rotate=u!==r.bearing),d.pitch||(d.pitch=i!==r.pitch)}return s||I(o.transform,t),c}_updateSettings(t,n){const o=this._map;let r=!1;for(const a of ae)if(a in t&&!v(t[a],n[a])){r=!0;const i=o[`set${a[0].toUpperCase()}${a.slice(1)}`];i==null||i.call(o,t[a])}return r}_updateStyle(t,n){if(t.cursor!==n.cursor&&(this._map.getCanvas().style.cursor=t.cursor||""),t.mapStyle!==n.mapStyle){const{mapStyle:o=H,styleDiffing:r=!0}=t,a={diff:r};return"localIdeographFontFamily"in t&&(a.localIdeographFontFamily=t.localIdeographFontFamily),this._map.setStyle(U(o),a),!0}return!1}_updateStyleComponents(t,n){const o=this._map;let r=!1;return o.isStyleLoaded()&&("light"in t&&o.setLight&&!v(t.light,n.light)&&(r=!0,o.setLight(t.light)),"fog"in t&&o.setFog&&!v(t.fog,n.fog)&&(r=!0,o.setFog(t.fog)),"terrain"in t&&o.setTerrain&&!v(t.terrain,n.terrain)&&(!t.terrain||o.getSource(t.terrain.source))&&(r=!0,o.setTerrain(t.terrain))),r}_updateHandlers(t,n){var o,r;const a=this._map;let i=!1;for(const u of ie){const s=(o=t[u])!==null&&o!==void 0?o:!0,c=(r=n[u])!==null&&r!==void 0?r:!0;v(s,c)||(i=!0,s?a[u].enable(s):a[u].disable())}return i}_queryRenderedFeatures(t){const n=this._map,o=n.transform,{interactiveLayerIds:r=[]}=this.props;try{return n.transform=this._renderTransform,n.queryRenderedFeatures(t,{layers:r.filter(n.getLayer.bind(n))})}catch{return[]}finally{n.transform=o}}_updateHover(t){var n;const{props:o}=this;if(o.interactiveLayerIds&&(o.onMouseMove||o.onMouseEnter||o.onMouseLeave)){const a=t.type,i=((n=this._hoveredFeatures)===null||n===void 0?void 0:n.length)>0,u=this._queryRenderedFeatures(t.point),s=u.length>0;!s&&i&&(t.type="mouseleave",this._onPointerEvent(t)),this._hoveredFeatures=u,s&&!i&&(t.type="mouseenter",this._onPointerEvent(t)),t.type=a}else this._hoveredFeatures=null}_fireEvent(t,n,o){const r=this._map,a=r.transform,i=typeof n=="string"?n:n.type;return i==="move"&&this._updateViewState(this.props,!1),i in R&&(typeof n=="object"&&(n.viewState=F(a)),this._map.isMoving())?(r.transform=this._renderTransform,t.call(r,n,o),r.transform=a,r):(t.call(r,n,o),r)}_onBeforeRepaint(){const t=this._map;this._internalUpdate=!0;for(const o in this._deferredEvents)this._deferredEvents[o]&&t.fire(o);this._internalUpdate=!1;const n=this._map.transform;t.transform=this._renderTransform,this._onAfterRepaint=()=>{O(this._renderTransform,n),t.transform=n}}}C.savedMaps=[];function se(){let e=null;if(typeof location<"u"){const t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||D.MapboxAccessToken}catch{}try{e=e||D.REACT_APP_MAPBOX_ACCESS_TOKEN}catch{}return e}const le=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function ce(e){if(!e)return null;const t=e.map,n={getMap:()=>t,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:o=>{const r=t.transform;t.transform=e.transform;const a=t.project(o);return t.transform=r,a},unproject:o=>{const r=t.transform;t.transform=e.transform;const a=t.unproject(o);return t.transform=r,a},queryTerrainElevation:(o,r)=>{const a=t.transform;t.transform=e.transform;const i=t.queryTerrainElevation(o,r);return t.transform=a,i},queryRenderedFeatures:(o,r)=>{const a=t.transform;t.transform=e.transform;const i=t.queryRenderedFeatures(o,r);return t.transform=a,i}};for(const o of ue(t))!(o in n)&&!le.includes(o)&&(n[o]=t[o].bind(t));return n}function ue(e){const t=new Set;let n=e;for(;n;){for(const o of Object.getOwnPropertyNames(n))o[0]!=="_"&&typeof e[o]=="function"&&o!=="fire"&&o!=="setEventedParent"&&t.add(o);n=Object.getPrototypeOf(n)}return Array.from(t)}const de=typeof document<"u"?l.useLayoutEffect:l.useEffect,fe=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];function me(e,t){for(const o of fe)o in t&&(e[o]=t[o]);const{RTLTextPlugin:n="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=t;n&&e.getRTLTextPluginStatus&&e.getRTLTextPluginStatus()==="unavailable"&&e.setRTLTextPlugin(n,o=>{o&&console.error(o)},!0)}const L=l.createContext(null);function he(e,t,n){const o=l.useContext(te),[r,a]=l.useState(null),i=l.useRef(),{current:u}=l.useRef({mapLib:null,map:null});l.useEffect(()=>{const d=e.mapLib;let m=!0,y;return Promise.resolve(d||n).then(p=>{if(!m)return;if(!p)throw new Error("Invalid mapLib");const g="Map"in p?p:p.default;if(!g.Map)throw new Error("Invalid mapLib");if(me(g,e),!g.supported||g.supported(e))e.reuseMaps&&(y=C.reuse(e,i.current)),y||(y=new C(g.Map,e,i.current)),u.map=ce(y),u.mapLib=g,a(y),o==null||o.onMapMount(u.map,e.id);else throw new Error("Map is not supported by this browser")}).catch(p=>{const{onError:g}=e;g?g({type:"error",target:null,originalEvent:null,error:p}):console.error(p)}),()=>{m=!1,y&&(o==null||o.onMapUnmount(e.id),e.reuseMaps?y.recycle():y.destroy())}},[]),de(()=>{r&&r.setProps(e)}),l.useImperativeHandle(t,()=>u.map,[r]);const s=l.useMemo(()=>({position:"relative",width:"100%",height:"100%",...e.style}),[e.style]),c={height:"100%"};return l.createElement("div",{id:e.id,ref:i,style:s},r&&l.createElement(L.Provider,{value:u},l.createElement("div",{"mapboxgl-children":"",style:c},e.children)))}const ge=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function E(e,t){if(!e||!t)return;const n=e.style;for(const o in t){const r=t[o];Number.isFinite(r)&&!ge.test(o)?n[o]=`${r}px`:n[o]=r}}function ye(e,t){const{map:n,mapLib:o}=l.useContext(L),r=l.useRef({props:e});r.current.props=e;const a=l.useMemo(()=>{let z=!1;l.Children.forEach(e.children,x=>{x&&(z=!0)});const G={...e,element:z?document.createElement("div"):null},w=new o.Marker(G);return w.setLngLat([e.longitude,e.latitude]),w.getElement().addEventListener("click",x=>{var _,h;(h=(_=r.current.props).onClick)===null||h===void 0||h.call(_,{type:"click",target:w,originalEvent:x})}),w.on("dragstart",x=>{var _,h;const b=x;b.lngLat=a.getLngLat(),(h=(_=r.current.props).onDragStart)===null||h===void 0||h.call(_,b)}),w.on("drag",x=>{var _,h;const b=x;b.lngLat=a.getLngLat(),(h=(_=r.current.props).onDrag)===null||h===void 0||h.call(_,b)}),w.on("dragend",x=>{var _,h;const b=x;b.lngLat=a.getLngLat(),(h=(_=r.current.props).onDragEnd)===null||h===void 0||h.call(_,b)}),w},[]);l.useEffect(()=>(a.addTo(n.getMap()),()=>{a.remove()}),[]);const{longitude:i,latitude:u,offset:s,style:c,draggable:d=!1,popup:m=null,rotation:y=0,rotationAlignment:p="auto",pitchAlignment:g="auto"}=e;return l.useEffect(()=>{E(a.getElement(),c)},[c]),l.useImperativeHandle(t,()=>a,[]),(a.getLngLat().lng!==i||a.getLngLat().lat!==u)&&a.setLngLat([i,u]),s&&!ne(a.getOffset(),s)&&a.setOffset(s),a.isDraggable()!==d&&a.setDraggable(d),a.getRotation()!==y&&a.setRotation(y),a.getRotationAlignment()!==p&&a.setRotationAlignment(p),a.getPitchAlignment()!==g&&a.setPitchAlignment(g),a.getPopup()!==m&&a.setPopup(m),$.createPortal(e.children,a.getElement())}const pe=l.memo(l.forwardRef(ye));function V(e){return new Set(e?e.trim().split(/\s+/):[])}function ve(e,t){const{map:n,mapLib:o}=l.useContext(L),r=l.useMemo(()=>document.createElement("div"),[]),a=l.useRef({props:e});a.current.props=e;const i=l.useMemo(()=>{const u={...e},s=new o.Popup(u);return s.setLngLat([e.longitude,e.latitude]),s.once("open",c=>{var d,m;(m=(d=a.current.props).onOpen)===null||m===void 0||m.call(d,c)}),s},[]);if(l.useEffect(()=>{const u=s=>{var c,d;(d=(c=a.current.props).onClose)===null||d===void 0||d.call(c,s)};return i.on("close",u),i.setDOMContent(r).addTo(n.getMap()),()=>{i.off("close",u),i.isOpen()&&i.remove()}},[]),l.useEffect(()=>{E(i.getElement(),e.style)},[e.style]),l.useImperativeHandle(t,()=>i,[]),i.isOpen()&&((i.getLngLat().lng!==e.longitude||i.getLngLat().lat!==e.latitude)&&i.setLngLat([e.longitude,e.latitude]),e.offset&&!v(i.options.offset,e.offset)&&i.setOffset(e.offset),(i.options.anchor!==e.anchor||i.options.maxWidth!==e.maxWidth)&&(i.options.anchor=e.anchor,i.setMaxWidth(e.maxWidth)),i.options.className!==e.className)){const u=V(i.options.className),s=V(e.className);for(const c of u)s.has(c)||i.removeClassName(c);for(const c of s)u.has(c)||i.addClassName(c);i.options.className=e.className}return $.createPortal(e.children,r)}l.memo(l.forwardRef(ve));function M(e,t,n,o){const r=l.useContext(L),a=l.useMemo(()=>e(r),[]);return l.useEffect(()=>{const i=t,u=null,s=typeof t=="function"?t:null,{map:c}=r;return c.hasControl(a)||(c.addControl(a,i==null?void 0:i.position),u&&u(r)),()=>{s&&s(r),c.hasControl(a)&&c.removeControl(a)}},[]),a}function _e(e){const t=M(({mapLib:n})=>new n.AttributionControl(e),{position:e.position});return l.useEffect(()=>{E(t._container,e.style)},[e.style]),null}l.memo(_e);function xe(e){const t=M(({mapLib:n})=>new n.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return l.useEffect(()=>{E(t._controlContainer,e.style)},[e.style]),null}l.memo(xe);function be(e,t){const n=l.useRef({props:e}),o=M(({mapLib:r})=>{const a=new r.GeolocateControl(e),i=a._setupUI;return a._setupUI=u=>{a._container.hasChildNodes()||i(u)},a.on("geolocate",u=>{var s,c;(c=(s=n.current.props).onGeolocate)===null||c===void 0||c.call(s,u)}),a.on("error",u=>{var s,c;(c=(s=n.current.props).onError)===null||c===void 0||c.call(s,u)}),a.on("outofmaxbounds",u=>{var s,c;(c=(s=n.current.props).onOutOfMaxBounds)===null||c===void 0||c.call(s,u)}),a.on("trackuserlocationstart",u=>{var s,c;(c=(s=n.current.props).onTrackUserLocationStart)===null||c===void 0||c.call(s,u)}),a.on("trackuserlocationend",u=>{var s,c;(c=(s=n.current.props).onTrackUserLocationEnd)===null||c===void 0||c.call(s,u)}),a},{position:e.position});return n.current.props=e,l.useImperativeHandle(t,()=>o,[]),l.useEffect(()=>{E(o._container,e.style)},[e.style]),null}l.memo(l.forwardRef(be));function we(e){const t=M(({mapLib:n})=>new n.NavigationControl(e),{position:e.position});return l.useEffect(()=>{E(t._container,e.style)},[e.style]),null}l.memo(we);function Ee(e){const t=M(({mapLib:a})=>new a.ScaleControl(e),{position:e.position}),n=l.useRef(e),o=n.current;n.current=e;const{style:r}=e;return e.maxWidth!==void 0&&e.maxWidth!==o.maxWidth&&(t.options.maxWidth=e.maxWidth),e.unit!==void 0&&e.unit!==o.unit&&t.setUnit(e.unit),l.useEffect(()=>{E(t._container,r)},[r]),null}l.memo(Ee);function S(e,t){if(!e)throw new Error(t)}function Ce(e,t,n,o){if(S(n.id===o.id,"layer id changed"),S(n.type===o.type,"layer type changed"),n.type==="custom"||o.type==="custom")return;const{layout:r={},paint:a={},filter:i,minzoom:u,maxzoom:s,beforeId:c}=n;if(c!==o.beforeId&&e.moveLayer(t,c),r!==o.layout){const d=o.layout||{};for(const m in r)v(r[m],d[m])||e.setLayoutProperty(t,m,r[m]);for(const m in d)r.hasOwnProperty(m)||e.setLayoutProperty(t,m,void 0)}if(a!==o.paint){const d=o.paint||{};for(const m in a)v(a[m],d[m])||e.setPaintProperty(t,m,a[m]);for(const m in d)a.hasOwnProperty(m)||e.setPaintProperty(t,m,void 0)}v(i,o.filter)||e.setFilter(t,i),(u!==o.minzoom||s!==o.maxzoom)&&e.setLayerZoomRange(t,u,s)}function Le(e,t,n){if(e.style&&e.style._loaded&&(!("source"in n)||e.getSource(n.source))){const o={...n,id:t};delete o.beforeId,e.addLayer(o,n.beforeId)}}let Me=0;function Se(e){const t=l.useContext(L).map.getMap(),n=l.useRef(e),[,o]=l.useState(0),r=l.useMemo(()=>e.id||`jsx-layer-${Me++}`,[]);if(l.useEffect(()=>{if(t){const i=()=>o(u=>u+1);return t.on("styledata",i),i(),()=>{t.off("styledata",i),t.style&&t.style._loaded&&t.getLayer(r)&&t.removeLayer(r)}}},[t]),t&&t.style&&t.getLayer(r))try{Ce(t,r,e,n.current)}catch(i){console.warn(i)}else Le(t,r,e);return n.current=e,null}let Te=0;function Re(e,t,n){if(e.style&&e.style._loaded){const o={...n};return delete o.id,delete o.children,e.addSource(t,o),e.getSource(t)}return null}function je(e,t,n){S(t.id===n.id,"source id changed"),S(t.type===n.type,"source type changed");let o="",r=0;for(const i in t)i!=="children"&&i!=="id"&&!v(n[i],t[i])&&(o=i,r++);if(!r)return;const a=t.type;a==="geojson"?e.setData(t.data):a==="image"?e.updateImage({url:t.url,coordinates:t.coordinates}):"setCoordinates"in e&&r===1&&o==="coordinates"?e.setCoordinates(t.coordinates):"setUrl"in e&&o==="url"?e.setUrl(t.url):"setTiles"in e&&o==="tiles"?e.setTiles(t.tiles):console.warn(`Unable to update <Source> prop: ${o}`)}function ke(e){const t=l.useContext(L).map.getMap(),n=l.useRef(e),[,o]=l.useState(0),r=l.useMemo(()=>e.id||`jsx-source-${Te++}`,[]);l.useEffect(()=>{if(t){const i=()=>setTimeout(()=>o(u=>u+1),0);return t.on("styledata",i),i(),()=>{var u;if(t.off("styledata",i),t.style&&t.style._loaded&&t.getSource(r)){const s=(u=t.getStyle())===null||u===void 0?void 0:u.layers;if(s)for(const c of s)c.source===r&&t.removeLayer(c.id);t.removeSource(r)}}}},[t]);let a=t&&t.style&&t.getSource(r);return a?je(a,e,n.current):a=Re(t,r,e),n.current=e,a&&l.Children.map(e.children,i=>i&&l.cloneElement(i,{source:r}))||null}const Ne=K(()=>import("./mapbox-gl-DiSQua-D.js").then(e=>e.m),__vite__mapDeps([0,1,2])),ze=l.forwardRef(function(t,n){return he(t,n,Ne)}),j=pe,k=Se,q=ke,N="YOUR_MAPBOX_TOKEN",Ae=e=>{switch(e){case"medical":return X;case"logistics":return ee;case"water":return J;case"security":return Q;case"info":return P;default:return P}},Oe=({data:e})=>{const{setSelectedPOI:t}=Y(),n=l.useRef(null);if(N.includes("YOUR_")||N.startsWith("Y***"))return f.jsxs("div",{className:"w-full h-full bg-slate-800 flex flex-col items-center justify-center text-center p-8",children:[f.jsx(A,{className:"w-16 h-16 text-yellow-400 mb-4"}),f.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Mapbox Configuration Required"}),f.jsx("p",{className:"text-slate-300 max-w-md",children:"A valid Mapbox access token has not been provided. The map cannot be displayed."}),f.jsxs("div",{className:"mt-6 bg-slate-900 p-4 rounded-lg border border-slate-700 text-left text-sm w-full max-w-lg",children:[f.jsx("p",{className:"font-semibold text-white mb-3",children:"Next Steps:"}),f.jsxs("ol",{className:"list-decimal list-inside text-slate-400 space-y-2",children:[f.jsxs("li",{children:["Go to your ",f.jsx("a",{href:"https://account.mapbox.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline font-medium",children:"Mapbox account"})," and copy your access token."]}),f.jsxs("li",{children:["In the file explorer on the left, open the ",f.jsx("code",{className:"bg-slate-700 text-yellow-300 px-1.5 py-1 rounded-md",children:".env"})," file."]}),f.jsx("li",{children:"Replace the placeholder value with your actual token and save the file. The map will then load automatically."})]})]})]});const o=l.useMemo(()=>({type:"FeatureCollection",features:e.sectors.map(s=>({type:"Feature",geometry:s.geometry,properties:{id:s.id,name:s.name,density:s.density}}))}),[e.sectors]),r=l.useMemo(()=>({type:"FeatureCollection",features:e.pilgrimPaths.features.map(s=>({...s,properties:{mag:Math.random()}}))}),[e.pilgrimPaths]),a={id:"sectors-fill",type:"fill",paint:{"fill-color":["interpolate",["linear"],["get","density"],.2,"#34d399",.4,"#fbbf24",.6,"#f97316",.8,"#ef4444"],"fill-opacity":.35}},i={id:"sectors-line",type:"line",paint:{"line-color":"#ffffff","line-width":1,"line-opacity":.5}},u={id:"heatmap",type:"heatmap",maxzoom:15,paint:{"heatmap-weight":["interpolate",["linear"],["get","mag"],0,0,5,1],"heatmap-intensity":["interpolate",["linear"],["zoom"],10,1,15,3],"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(34, 211, 238, 0)",.2,"rgba(52, 211, 153, 0.5)",.4,"rgba(251, 191, 36, 0.5)",.6,"rgba(249, 115, 22, 0.5)",.8,"rgba(239, 68, 68, 0.6)"],"heatmap-radius":["interpolate",["linear"],["zoom"],10,20,15,80],"heatmap-opacity":.8}};return f.jsx("div",{className:"relative w-full h-full bg-slate-800",children:f.jsxs(ze,{ref:n,mapboxAccessToken:N,initialViewState:{longitude:75.7772,latitude:23.1825,zoom:14},mapStyle:"mapbox://styles/mapbox/dark-v11",style:{width:"100%",height:"100%"},onClick:s=>{var d,m;const c=(d=n.current)==null?void 0:d.queryRenderedFeatures(s.point,{layers:["sectors-fill"]});if(c&&c.length>0){const y=(m=c[0].properties)==null?void 0:m.id,p=e.sectors.find(g=>g.id===y);p&&t(p)}},children:[f.jsxs(q,{id:"sectors",type:"geojson",data:o,children:[f.jsx(k,{...a}),f.jsx(k,{...i})]}),f.jsx(q,{id:"heatmap-data",type:"geojson",data:r,children:f.jsx(k,{...u})}),e.checkpoints.map(s=>{const c=Ae(s.type);return f.jsx(j,{longitude:s.coordinates[0],latitude:s.coordinates[1],anchor:"bottom",children:f.jsx(T.div,{whileHover:{scale:1.2,y:-5},className:"cursor-pointer",onClick:()=>t(s),children:f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 shadow-lg ${s.status==="operational"?"bg-green-500 border-green-300":s.status==="busy"?"bg-orange-500 border-orange-300":s.status==="low-stock"?"bg-red-500 border-red-300 shadow-red-500/50":"bg-blue-500 border-blue-300"}`,children:f.jsx(c,{className:"w-4 h-4 text-white"})})})},s.id)}),e.sosAlerts.map((s,c)=>f.jsx(j,{longitude:s.coordinates[0],latitude:s.coordinates[1],anchor:"bottom",children:f.jsx(T.div,{className:"cursor-pointer",onClick:()=>t({...s,x:0,y:0}),animate:{scale:[1,1.5,1],opacity:[1,.7,1]},transition:{duration:1.5,repeat:1/0},children:f.jsx("div",{className:"w-7 h-7 bg-red-500 rounded-full flex items-center justify-center border-2 border-white animate-pulse shadow-lg shadow-red-500/50",children:f.jsx(A,{className:"w-4 h-4 text-white"})})})},`sos-${c}`)),e.pilgrimPaths.features.slice(0,50).map((s,c)=>f.jsx(j,{longitude:s.geometry.coordinates[0],latitude:s.geometry.coordinates[1],children:f.jsx(T.div,{className:"w-1.5 h-1.5 bg-cyan-300 rounded-full opacity-70",animate:{x:[0,Math.random()*20-10,0],y:[0,Math.random()*20-10,0]},transition:{duration:5+Math.random()*5,repeat:1/0,repeatType:"mirror"}})},`pilgrim-${c}`))]})})};export{Oe as default};
